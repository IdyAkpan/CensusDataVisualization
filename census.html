<!DOCTYPE html>
<html>
<head>
	<title>US Census Visualization</title>
   <!--  Google Charts JS Script  -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <div id="chart_div"></div>
    <div id="chart_div2"></div>
    
    <!-- Tabletop JS Script; Tabletop enables Google charts to update via Google spreadsheets-->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.5.1/tabletop.min.js'></script>
  
</head>
<body>
	<h1 class = "header">  </h1>
	<p class = "bodytext">  </p>

	

 

<script type='text/javascript'>    
     // Tabletop JS Script; Tabletop enables Google charts to update via Google spreadsheets
  var publicSpreadsheetUrl = 'https://docs.google.com/spreadsheets/d/1kgVAW2nc7ujac572Ps7u75Ho6aQd5LlEBlSSdDTG90Y/edit?usp=sharing';
  window.addEventListener('DOMContentLoaded', init);


  function init() {
    Tabletop.init( { key: publicSpreadsheetUrl,
                     callback: showInfo,
                     simpleSheet: true } )
  }

  function showInfo(data, tabletop) {
    alert('Successfully processed!');

    data.forEach(function(data){
      //console.log(data);
     // document.body.innerHTML+=data.occupation;

     var a = data.occupation;
     var b = data.medianWeeklyEarningsMen;
     var c = data.medianWeeklyEarningsWomen;

     //console.log(data);
     pushToDOM(data);

    });
  }
  
  //Google Charts Data starts here
google.charts.load('current', {packages: ['corechart', 'bar']});
// google.charts.setOnLoadCallback(drawMultSeries);
google.charts.setOnLoadCallback(pushToDOM);


//attempt to connect Google sheets data to Google charts
function pushToDOM(data){
 data.forEach(function(data){

     var a = data.occupation;
     var b = data.medianWeeklyEarningsMen;
     var c = data.medianWeeklyEarningsWomen;
console.log(a);

});



// function drawMultSeries(data) {


      var data = new google.visualization.DataTable(pushToDOM);

      var options = {
        title: 'Population of Largest U.S. Cities',
        chartArea: {width: '50%'},
        hAxis: {
          title: 'Total Population',
          minValue: 0
        },
        vAxis: {
          title: 'City'
        }
      };

      var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
      chart.draw(data, options);
    

   } 

// End Google chart data
// data source: https://www.bls.gov/opub/ted/2018/median-weekly-earnings-of-women-770-in-2017.htm 
// Citation: Bureau of Labor Statistics, U.S. Department of Labor, The Economics Daily, Median weekly earnings of women $770 in 2017 on the Internet at https://www.bls.gov/opub/ted/2018/median-weekly-earnings-of-women-770-in-2017.htm (visited April 01, 2018). 
// https://www.bls.gov/cps/tables.htm


</script>


</body>
</html>